{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/project1/estate-app/utils/supabase/client.js"],"sourcesContent":["\r\nimport { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_API_KEY;\r\nexport const supabase = createClient(supabaseUrl, supabaseKey)"],"names":[],"mappings":";;;;AACA;;AAEA,MAAM;AACN,MAAM;AACC,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/project1/estate-app/app/_components/FreeAddressSearch.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\nfunction FreeAddressSearch({ selectedAddress, setCoordinates }) {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n\r\n  const fetchSuggestions = async (value) => {\r\n    setQuery(value);\r\n\r\n    if (value.length < 3) {\r\n      setSuggestions([]);\r\n      return;\r\n    }\r\n\r\n    const res = await axios.get(\"https://photon.komoot.io/api/\", {\r\n      params: {\r\n        q: value,\r\n        limit: 5,\r\n      },\r\n    });\r\n\r\n    setSuggestions(res.data.features);\r\n  };\r\n\r\n  const handleSelect = (place) => {\r\n    const lat = Number(place.geometry.coordinates[1]);\r\n    const lng = Number(place.geometry.coordinates[0]);\r\n\r\n    const name = place.properties.name || \"\";\r\n    const city = place.properties.city || \"\";\r\n    const country = place.properties.country || \"\";\r\n\r\n    const fullAddress = `${name}, ${city}, ${country}`;\r\n\r\n  console.log(\"FULL ADDRESS:\", fullAddress);\r\n  console.log(\"LAT:\", lat);\r\n  console.log(\"LNG:\", lng);\r\n  console.log(\"RAW PLACE OBJECT:\", place);\r\n\r\n    setQuery(fullAddress);\r\n    setSuggestions([]);\r\n\r\n    // ✅ THESE ARE PROPS (NOW DEFINED)\r\n    selectedAddress?.(fullAddress);\r\n    setCoordinates({ lat, lng });\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative w-full\">\r\n      <input\r\n        value={query}\r\n        onChange={(e) => fetchSuggestions(e.target.value)}\r\n        placeholder=\"Search address\"\r\n        className=\"w-full border rounded-md p-2\"\r\n      />\r\n\r\n      {suggestions.length > 0 && (\r\n        <div className=\"absolute z-10 bg-white border w-full rounded-md shadow\">\r\n          {suggestions.map((place, index) => (\r\n            <div\r\n              key={index}\r\n              onClick={() => handleSelect(place)}\r\n              className=\"p-2 cursor-pointer hover:bg-gray-100\"\r\n            >\r\n              {place.properties.name},{\" \"}\r\n              {place.properties.city},{\" \"}\r\n              {place.properties.country}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FreeAddressSearch;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,SAAS,kBAAkB,EAAE,eAAe,EAAE,cAAc,EAAE;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAEjD,MAAM,mBAAmB,OAAO;QAC9B,SAAS;QAET,IAAI,MAAM,MAAM,GAAG,GAAG;YACpB,eAAe,EAAE;YACjB;QACF;QAEA,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CAAC,iCAAiC;YAC3D,QAAQ;gBACN,GAAG;gBACH,OAAO;YACT;QACF;QAEA,eAAe,IAAI,IAAI,CAAC,QAAQ;IAClC;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,MAAM,OAAO,MAAM,QAAQ,CAAC,WAAW,CAAC,EAAE;QAChD,MAAM,MAAM,OAAO,MAAM,QAAQ,CAAC,WAAW,CAAC,EAAE;QAEhD,MAAM,OAAO,MAAM,UAAU,CAAC,IAAI,IAAI;QACtC,MAAM,OAAO,MAAM,UAAU,CAAC,IAAI,IAAI;QACtC,MAAM,UAAU,MAAM,UAAU,CAAC,OAAO,IAAI;QAE5C,MAAM,cAAc,GAAG,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,SAAS;QAEpD,QAAQ,GAAG,CAAC,iBAAiB;QAC7B,QAAQ,GAAG,CAAC,QAAQ;QACpB,QAAQ,GAAG,CAAC,QAAQ;QACpB,QAAQ,GAAG,CAAC,qBAAqB;QAE/B,SAAS;QACT,eAAe,EAAE;QAEjB,kCAAkC;QAClC,kBAAkB;QAClB,eAAe;YAAE;YAAK;QAAI;IAC5B;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;gBAChD,aAAY;gBACZ,WAAU;;;;;;YAGX,YAAY,MAAM,GAAG,mBACpB,8OAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC,OAAO,sBACvB,8OAAC;wBAEC,SAAS,IAAM,aAAa;wBAC5B,WAAU;;4BAET,MAAM,UAAU,CAAC,IAAI;4BAAC;4BAAE;4BACxB,MAAM,UAAU,CAAC,IAAI;4BAAC;4BAAE;4BACxB,MAAM,UAAU,CAAC,OAAO;;uBANpB;;;;;;;;;;;;;;;;AAanB;uCAEe"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/project1/estate-app/app/_components/Listing.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { Bath, BedDouble, MapPin, Ruler, Search } from \"lucide-react\";\r\nimport FreeAddressSearch from \"./FreeAddressSearch\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nfunction Listing({ listing = [], handleSearchClick = [], searchedAddress }) {\r\n  const [address, setAddress] = useState();\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"p-3 flex gap-6\">\r\n        <FreeAddressSearch\r\n          selectedAddress={(v) => {\r\n            searchedAddress && searchedAddress(v);\r\n            setAddress(v);\r\n          }}\r\n          setCoordinates={(v) => console.log(v)}\r\n        />\r\n\r\n        <Button className=\"flex gap-2\" onClick={handleSearchClick}>\r\n          <Search className=\"h-4 w-4\" /> Search\r\n        </Button>\r\n      </div>\r\n\r\n      <FilterSection/>\r\n\r\n      <div>\r\n        <br />\r\n        {address && listing?.length > 0 && (\r\n          <div className=\"w-full mt-2 text-sm text-gray-600\">\r\n            <h2 className=\"text-lg\">\r\n              Found {listing.length} result{listing.length > 1 ? \"s\" : \"\"} in{\" \"}\r\n              <span className=\"text-purple-500 font-bold\">\r\n                {address?.label || address}\r\n              </span>\r\n            </h2>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        {listing?.length > 0\r\n          ? listing.map((item) => (\r\n              <div\r\n                key={item.id}\r\n                className=\"p-3 hover:border hover:border-primary cursor-pointer rounded-lg\"\r\n              >\r\n                <h2 className=\"font-bold text-xl text-blue-600\">₹{item.price}</h2>\r\n\r\n                <div className=\"flex gap-2 items-center text-sm text-gray-500\">\r\n                  <MapPin className=\"h-4 w-4\" />\r\n                  <span>{item?.address}</span>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 mt-2 justify-between\">\r\n                  <h2 className=\"flex gap-2 text-xs bg-slate-200 rounded-md px-2 py-1\">\r\n                    <BedDouble className=\"h-4 w-4\" />\r\n                    {item?.bedroom}\r\n                  </h2>\r\n                  <h2 className=\"flex gap-2 text-xs bg-slate-200 rounded-md px-2 py-1\">\r\n                    <Bath className=\"h-4 w-4\" />\r\n                    {item?.bathroom}\r\n                  </h2>\r\n                  <h2 className=\"flex gap-2 text-xs bg-slate-200 rounded-md px-2 py-1\">\r\n                    <Ruler className=\"h-4 w-4\" />\r\n                    {item?.area}\r\n                  </h2>\r\n                </div>\r\n              </div>\r\n            ))\r\n          : [1,2,3,4,5,6,7,8].map((_, index) => (\r\n              <div\r\n                key={index}\r\n                className=\"h-[230px] w-full bg-slate-200 animate-pulse rounded-lg\"\r\n              />\r\n            ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Listing;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AANA;;;;;;;AAQA,SAAS,QAAQ,EAAE,UAAU,EAAE,EAAE,oBAAoB,EAAE,EAAE,eAAe,EAAE;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ;IAEtC,qBACE,8OAAC;;0BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,mJAAiB;wBAChB,iBAAiB,CAAC;4BAChB,mBAAmB,gBAAgB;4BACnC,WAAW;wBACb;wBACA,gBAAgB,CAAC,IAAM,QAAQ,GAAG,CAAC;;;;;;kCAGrC,8OAAC,qIAAM;wBAAC,WAAU;wBAAa,SAAS;;0CACtC,8OAAC,gNAAM;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;0BAIlC,8OAAC;;;;;0BAED,8OAAC;;kCACC,8OAAC;;;;;oBACA,WAAW,SAAS,SAAS,mBAC5B,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAG,WAAU;;gCAAU;gCACf,QAAQ,MAAM;gCAAC;gCAAQ,QAAQ,MAAM,GAAG,IAAI,MAAM;gCAAG;gCAAI;8CAChE,8OAAC;oCAAK,WAAU;8CACb,SAAS,SAAS;;;;;;;;;;;;;;;;;;;;;;;0BAO7B,8OAAC;gBAAI,WAAU;0BACZ,SAAS,SAAS,IACf,QAAQ,GAAG,CAAC,CAAC,qBACX,8OAAC;wBAEC,WAAU;;0CAEV,8OAAC;gCAAG,WAAU;;oCAAkC;oCAAE,KAAK,KAAK;;;;;;;0CAE5D,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,oNAAM;wCAAC,WAAU;;;;;;kDAClB,8OAAC;kDAAM,MAAM;;;;;;;;;;;;0CAGf,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC,6NAAS;gDAAC,WAAU;;;;;;4CACpB,MAAM;;;;;;;kDAET,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC,0MAAI;gDAAC,WAAU;;;;;;4CACf,MAAM;;;;;;;kDAET,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC,6MAAK;gDAAC,WAAU;;;;;;4CAChB,MAAM;;;;;;;;;;;;;;uBArBN,KAAK,EAAE;;;;gCA0BhB;oBAAC;oBAAE;oBAAE;oBAAE;oBAAE;oBAAE;oBAAE;oBAAE;iBAAE,CAAC,GAAG,CAAC,CAAC,GAAG,sBACxB,8OAAC;wBAEC,WAAU;uBADL;;;;;;;;;;;;;;;;AAOrB;uCAEe"}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/project1/estate-app/app/_components/ListingMapView.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { supabase } from \"@/utils/supabase/client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Listing from \"./Listing\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function ListingMapView({ type }) {\r\n\r\n  const [listing, setListing] = useState([]);\r\n // const [searchedAddress,setSearchAddress]=useState();\r\n  const [searchedAddress, setSearchedAddress] = useState();\r\n\r\n  useEffect(() => {\r\n    console.log(\"TYPE:\", type);\r\n    getLatestListing();\r\n  }, [type]);\r\n\r\n  const getLatestListing = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"listing\")\r\n      .select(`*, listingImages(url, listing_id)`)\r\n      .eq(\"active\", true)\r\n      .order('id',{ascending:false})\r\n       //temporarily REMOVE type filter for debugging\r\n       //.eq(\"type\", type);\r\n\r\n    console.log(\"LISTING DATA:\", data);\r\n\r\n    if (data) {\r\n      setListing(data);\r\n    }\r\n\r\n    if (error) {\r\n      console.error(error);\r\n      toast(\"Server side error\");\r\n    }\r\n  };\r\n    const handleSearchClick=async()=>{\r\n      console.log(searchedAddress);\r\n        const searchTerm = searchedAddress?.split(\",\")[0]?.trim();\r\n      const { data, error } = await supabase\r\n      .from(\"listing\")\r\n      .select(`*, listingImages(url, listing_id)`)\r\n      .eq(\"active\", true)\r\n      //.eq(\"type\",type)\r\n      .ilike('address','%'+searchTerm+'%')\r\n      .order('id',{ascending:false});\r\n\r\n      if (data)\r\n      {\r\n        setListing(data);\r\n      }\r\n    \r\n     }\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2\">\r\n      <div>\r\n        <Listing listing={listing} \r\n        handleSearchClick={handleSearchClick} \r\n        searchedAddress={(v)=>setSearchedAddress(v)}\r\n        />\r\n      </div>\r\n      <div>map</div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,eAAe,EAAE,IAAI,EAAE;IAE7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC1C,uDAAuD;IACtD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ;IAEtD,IAAA,kNAAS,EAAC;QACR,QAAQ,GAAG,CAAC,SAAS;QACrB;IACF,GAAG;QAAC;KAAK;IAET,MAAM,mBAAmB;QACvB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,uIAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,CAAC,iCAAiC,CAAC,EAC1C,EAAE,CAAC,UAAU,MACb,KAAK,CAAC,MAAK;YAAC,WAAU;QAAK;QAC3B,8CAA8C;QAC9C,oBAAoB;QAEvB,QAAQ,GAAG,CAAC,iBAAiB;QAE7B,IAAI,MAAM;YACR,WAAW;QACb;QAEA,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC;YACd,IAAA,iJAAK,EAAC;QACR;IACF;IACE,MAAM,oBAAkB;QACtB,QAAQ,GAAG,CAAC;QACV,MAAM,aAAa,iBAAiB,MAAM,IAAI,CAAC,EAAE,EAAE;QACrD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,uIAAQ,CACrC,IAAI,CAAC,WACL,MAAM,CAAC,CAAC,iCAAiC,CAAC,EAC1C,EAAE,CAAC,UAAU,KACd,kBAAkB;SACjB,KAAK,CAAC,WAAU,MAAI,aAAW,KAC/B,KAAK,CAAC,MAAK;YAAC,WAAU;QAAK;QAE5B,IAAI,MACJ;YACE,WAAW;QACb;IAED;IACH,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;0BACC,cAAA,8OAAC,yIAAO;oBAAC,SAAS;oBAClB,mBAAmB;oBACnB,iBAAiB,CAAC,IAAI,mBAAmB;;;;;;;;;;;0BAG3C,8OAAC;0BAAI;;;;;;;;;;;;AAGX"}}]
}