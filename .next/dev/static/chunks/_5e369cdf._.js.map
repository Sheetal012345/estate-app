{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/project1/estate-app/utils/supabase/client.js"],"sourcesContent":["\r\nimport { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_API_KEY;\r\nexport const supabase = createClient(supabaseUrl, supabaseKey)"],"names":[],"mappings":";;;;AAGoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AACC,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/project1/estate-app/app/_components/ListingMapView.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { supabase } from \"@/utils/supabase/client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Listing from \"./Listing\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function ListingMapView({ type }) {\r\n\r\n  const [listing, setListing] = useState([]);\r\n // const [searchedAddress,setSearchAddress]=useState();\r\n  const [searchedAddress, setSearchedAddress] = useState();\r\n\r\n  useEffect(() => {\r\n    console.log(\"TYPE:\", type);\r\n    getLatestListing();\r\n  }, [type]);\r\n\r\n  const getLatestListing = async () => {\r\n    const { data, error } = await supabase\r\n      .from(\"listing\")\r\n      .select(`*, listingImages(url, listing_id)`)\r\n      .eq(\"active\", true)\r\n      .order('id',{ascending:false})\r\n       //temporarily REMOVE type filter for debugging\r\n       //.eq(\"type\", type);\r\n\r\n    console.log(\"LISTING DATA:\", data);\r\n\r\n    if (data) {\r\n      setListing(data);\r\n    }\r\n\r\n    if (error) {\r\n      console.error(error);\r\n      toast(\"Server side error\");\r\n    }\r\n  };\r\n    const handleSearchClick=async()=>{\r\n      console.log(searchedAddress);\r\n        const searchTerm = searchedAddress?.split(\",\")[0]?.trim();\r\n      const { data, error } = await supabase\r\n      .from(\"listing\")\r\n      .select(`*, listingImages(url, listing_id)`)\r\n      .eq(\"active\", true)\r\n      //.eq(\"type\",type)\r\n      .ilike('address','%'+searchTerm+'%')\r\n      .order('id',{ascending:false});\r\n\r\n      if (data)\r\n      {\r\n        setListing(data);\r\n      }\r\n    \r\n     }\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2\">\r\n      <div>\r\n        <Listing listing={listing} \r\n        handleSearchClick={handleSearchClick} \r\n        searchedAddress={(v)=>setSearchedAddress(v)}\r\n        />\r\n      </div>\r\n      <div>map</div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS,eAAe,EAAE,IAAI,EAAE;;IAE7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC1C,uDAAuD;IACtD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ;IAEtD,IAAA,0KAAS;oCAAC;YACR,QAAQ,GAAG,CAAC,SAAS;YACrB;QACF;mCAAG;QAAC;KAAK;IAET,MAAM,mBAAmB;QACvB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,0IAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,CAAC,iCAAiC,CAAC,EAC1C,EAAE,CAAC,UAAU,MACb,KAAK,CAAC,MAAK;YAAC,WAAU;QAAK;QAC3B,8CAA8C;QAC9C,oBAAoB;QAEvB,QAAQ,GAAG,CAAC,iBAAiB;QAE7B,IAAI,MAAM;YACR,WAAW;QACb;QAEA,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC;YACd,IAAA,oJAAK,EAAC;QACR;IACF;IACE,MAAM,oBAAkB;QACtB,QAAQ,GAAG,CAAC;QACV,MAAM,aAAa,iBAAiB,MAAM,IAAI,CAAC,EAAE,EAAE;QACrD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,0IAAQ,CACrC,IAAI,CAAC,WACL,MAAM,CAAC,CAAC,iCAAiC,CAAC,EAC1C,EAAE,CAAC,UAAU,KACd,kBAAkB;SACjB,KAAK,CAAC,WAAU,MAAI,aAAW,KAC/B,KAAK,CAAC,MAAK;YAAC,WAAU;QAAK;QAE5B,IAAI,MACJ;YACE,WAAW;QACb;IAED;IACH,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;0BACC,cAAA,6LAAC,4IAAO;oBAAC,SAAS;oBAClB,mBAAmB;oBACnB,iBAAiB,CAAC,IAAI,mBAAmB;;;;;;;;;;;0BAG3C,6LAAC;0BAAI;;;;;;;;;;;;AAGX;GA3DwB;KAAA"}}]
}